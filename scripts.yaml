play_radio:
  alias: Play Radio
  variables:
    browserkey: '{{ browser_key }}'
  sequence:
  - service: media_player.play_media
    data:
      media_content_id: media-source://radio_browser/{{ browserkey }}
      media_content_type: music
      enqueue: replace
    target:
      entity_id: '{{ media_player }}'
  mode: single
  icon: mdi:radio
deurbel:
  alias: Deurbel
  icon: mdi:doorbell
  mode: restart
  sequence:
  - sequence:
    - metadata: {}
      data:
        filename: /media/snapshots/snapshot_driveway.jpg
      action: camera.snapshot
      target:
        device_id: bab1e93d08ca11eba583dba8001b4553
    - action: ai_task.generate_data
      metadata: {}
      data:
        task_name: Gather doorbell data
        instructions: "- Describe the scene, describe every person on the scene\n-
          Count number of persons\n- Describe vehicle in image, retrieve license plate
          number\n- Ignore the hanging basket in the picture. \n"
        entity_id: ai_task.google_ai_task
        structure:
          summary:
            description: Summary in Dutch of the scene and the people inside it. Keep
              it under 180 characters
            selector:
              text:
          person_count:
            description: Number of persons in the scene
            selector:
              number:
          licenseno:
            description: License plate number of the car, if visible
            selector:
              text:
        attachments:
          media_content_id: media-source://media_source/local/snapshots/snapshot_driveway.jpg
          media_content_type: image/jpeg
          metadata:
            title: snapshot_driveway.jpg
            thumbnail:
            media_class: image
            children_media_class:
            navigateIds:
            - {}
            - media_content_type: app
              media_content_id: media-source://media_source
            - media_content_type: ''
              media_content_id: media-source://media_source/local/snapshots
      response_variable: doorbell_data
    - action: notify.mobile_app_telefoon_rudolf
      metadata: {}
      data:
        title: "\U0001F514 Deurbel ({{doorbell_data.data.person_count}} \U0001F9D1\U0001F3FB‍\U0001F9B1)"
        message: '{{doorbell_data.data.summary}}'
        data:
          tag: doorbell
    - action: ai_task.generate_image
      metadata: {}
      data:
        task_name: cartoon
        instructions: Transform this image into a super cute cartoon!
        entity_id: ai_task.google_ai_task
        attachments:
          media_content_id: media-source://media_source/local/snapshots/snapshot_driveway.jpg
          media_content_type: image/jpeg
          metadata:
            title: snapshot_driveway.jpg
            thumbnail:
            media_class: image
            children_media_class:
            navigateIds:
            - {}
            - media_content_type: app
              media_content_id: media-source://media_source
            - media_content_type: ''
              media_content_id: media-source://media_source/local/snapshots
      response_variable: doorbell_cartoon
    - action: notify.mobile_app_telefoon_rudolf
      metadata: {}
      data:
        title: "\U0001F514 Deurbel ({{doorbell_data.data.person_count}} \U0001F9D1\U0001F3FB‍\U0001F9B1)"
        message: '{{doorbell_data.data.summary}}'
        data:
          tag: doorbell
          image: http://homeassistant.local:8123{{doorbell_cartoon.url}}
  description: ''
announce_keuken:
  use_blueprint:
    path: balloob/announce-text-to-speech-on-media-player.yaml
    input:
      text_to_speech_engine: tts.home_assistant_cloud
      media_player:
      - media_player.keuken_nest_hub_mass
  alias: Announce keuken
  description: ''
ask_kitchen_light_on:
  alias: Ask kitchen light on
  use_blueprint:
    path: homeassistant/ask_yes_no_question.yaml
    input:
      question: It's getting dark in the kitchen, do you want to turn on the lights?
      yes_actions:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          device_id: c9bcd9c5204db8412b82410fa077b8bb
  description: ''
